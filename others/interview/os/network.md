[TOC]



# 数据结构



## 平衡二叉树，B树，B+树

- 平衡二叉树： 和二分查找对应的数据结构，子节点遵循左小右大原则，平衡：左右两边的子节点层级相差不会大于1

- B树：平衡多路查找树，其实就是平衡多叉树

- B+树：和B树不同的点是B+树的非叶子节点不保存实际的关键字，而是保存索引，Mysql的InnoBD用的就是b+树。

平衡二叉树，B树用来做查找，B+树用来做索引

## 红黑树



# 计算机网络

## ICMP
主要功能：确认IP包是否成功到达目标地址，通知在发送过程中IP包被丢掉的原因。
Ping命令的实现手段。

## ARP协议
根据IP地址获取MAC地址的协议

## DDoS
全称Distributed Denial of Service，分布式拒绝服务。常见方式：Syn Flood(Syn泛洪)

## TCP三次握手

第一次握手：客户端向服务端发送一个syn报文(SYN_SENT)

第二次握手：服务端向客户端发送一个ack报文(SYN_RCVD)

第三次握手：客户端向服务端发送一个syn报文(ESTABLISH)

为什么要三次握手呢？
第3次握手是客户端告诉服务器，我有没有收到你第二次发送过来的数据，如果有那么服务器就可以建立连接进行数据传输了，如果没有，服务器就可以释放连接端口。
三次握手可以避免以下两种情况：
- 假如第二次握手的数据丢了，客户端会一直等，超时后又会发起一个连接请求，而服务器端上一个连接也没法正常关闭。
- 假如客户端发送完syn报文后因为某种原因失效了，服务器收到报文后会以为这个一个有效的请求，也会一直等待客户端，连接端口也没法及时释放


## TCP四次挥手
以客户端主动结束连接为例，也可以是服务端主动关闭连接

第一次挥手：客户端向服务端发送一个fin报文，并停止向服务端发送数据，但仍能接收服务端的数据(FIN_WAIT_1)

第二次挥手：服务端返回一个ack/syn报文(服务端进入CLOSE_WAIT,客户端进入FIN_WAIT_2)

第三次挥手：服务端给客户端发送一个fin报文，并停止向客户端发送报文(LASK_ACK)

第四次挥手：客户端收到第三次挥手的报文以后，向服务器发送一个ack报文，随后进入TIME_WAIT状态，并等待2MSL时间后

为什么连接的时候只需要3次握手但释放的时候需要4次呢？
因为连接的时候的第二次握手，同时包含了ack确认报文和syn请求报文，被动方(服务器)在突然接收到主动方发起到连接请求时，它并不需要做什么准备，可以马上向客户端发送syn请求表示要向客户端发送数据。但是结束请求的时候不一样，被动方突然收到结束请求后，它并不能马上把服务端到客户端方向的连接也释放了，所以就只能先发一个ack报文给客户端，告诉客户端我知道你要停止向我发送数据了，然后它还需要把剩下的数据都给客户端发完才能向客户端发送一个fin报文去结束客户端方向的连接。

## 为什么TCP第四次挥手后客户端需要等到2MSL时间
MSL(Max Segment Lifttime)指一个tcp报文在传输时的最大存活时间，2MSL为客户端发送的ack和服务端因为某种原因等不到客户端发送的ack而再次发送的fin的最大存活时间。
客户端在发送完ack后没有马上进入CLOSE的原因是，有可能服务器端没有收到这个ack，会再向客户端发送一个fin，客户端收到fin后还需要再继续给服务端发送ack，因为服务端在收到ack后就可以马上关闭连接了，所以客户端会比服务端晚进入CLOSE阶段

## TCP是怎么做到可靠传输的

## TCP连接建立后有一方突然断开后另一方会怎么样
另一方无法得知TCP连接已经失效，除非继续在此连接上发送数据导致错误返回

# 操作系统



## 中断





